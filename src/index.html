<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="upgrade-insecure-requests"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script src="https://cdn.jsdelivr.net/pako/1.0.3/pako.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
      integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"
      integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css"
      integrity="sha512-ELV+xyi8IhEApPS/pSj66+Jiw+sOT1Mqkzlh8ExXihe4zfqbWkxPRi8wptXIO9g73FSlhmquFlUOuMSoXz5IRw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"
      integrity="sha512-WFN04846sdKMIP5LKNphMaWzU7YpMyCU245etK3g/2ARYbPK9Ub18eG+ljU96qKRCWh+quCY7yefSmlkQw1ANQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.4.4/mobile-detect.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"
      integrity="sha512-zInFF17qBFVvvvFpIfeBzo7Tj7+rQxLeTJDmbxjBz5/zIr89YVbTNelNhdTT+/DCrxoVzBeUPVFJsczKbB7sew=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script defer src="../scripts/main.js"></script>
    <script defer src="../scripts/stars.js"></script>
    <title>TRASE</title>
  </head>
  <body>
    <canvas id="canvSkin" width="20" height="18"></canvas>

    <table draggable="false" id="tblLooper">
      <tbody></tbody>
    </table>
    <table draggable="false" id="tbl">
      <tbody></tbody>
    </table>
    <ul id="btns" class="jquiSort">
      <li>
        <div class="liss">
          <h2>Main</h2>
          <ul>
            <li>
              <input type="color" id="clr" value="#ffffff" />
              &nbsp; #<input
                type="text"
                id="clrHelp"
                value="ffffff"
                maxlength="6"
              />
              <button class="regul" id="cpyForClr1" title="Paste to color 1">
                <i class="fa-regular fa-clipboard"></i>
              </button>
            </li>
            <li>
              <input type="color" id="clr2" value="#000000" />
              &nbsp; #<input
                type="text"
                id="clr2Help"
                value="000000"
                maxlength="6"
              />
              <button class="regul" id="cpyForClr2" title="Paste to color 2">
                <i class="fa-regular fa-clipboard"></i>
              </button>
            </li>
            <li>
              <div class="nopadd">
                <button id="switchCols" title="Switch colors (X)">
                  <i class="fa-solid fa-rotate"></i>
                </button>
                <button id="modMixClrs" title="Mix colors">
                  <i class="fa-solid fa-brands fa-mixer"></i>
                </button>

                <button id="flipDialogOpen" title="Flip skin">
                  <i class="fa-solid fa-arrow-right-arrow-left"></i>
                </button>
              </div>
            </li>
            <li>
              <div id="instr">
                <button id="brush" title="Brush (B or 1)" class="instr active">
                  <i class="fa-solid fa-paintbrush"></i>
                </button>

                <button id="ereaser" title="Ereaser (E or 2)" class="instr">
                  <i class="fa-solid fa-eraser"></i>
                </button>

                <button id="pippet" class="instr" title="Eyedropper (P or 3)">
                  <i class="fa-solid fa-eye-dropper"></i>
                </button>

                <br />

                <button id="fill" class="instr" title="Filler (F of 4)">
                  <i class="fa-solid fa-fill-drip"></i>
                </button>

                <button id="line" class="instr" title="Line (Q or 5)">
                  <i class="fa-solid fa-slash fa-flip-horizontal"></i>
                </button>

                <button
                  id="bdlg"
                  title="Color applyer for body or legs (Z or 6)"
                >
                  <i class="fa-solid fa-brush"></i>
                </button>

                <br />

                <button id="mover" class="instr" title="Mover (M or 7)">
                  <i class="fa-solid fa-arrows-up-down-left-right"></i>
                </button>
              </div>
            </li>
          </ul>
        </div>
      </li>
      <li>
        <div class="liss">
          <h2>Dev hacks</h2>
          <div id="settab-8">
            <button onclick="location.reload()">Reload page</button>
            <br /><br />
            <button onclick="localStorage.clear()">Clear local storage</button>
          </div>
        </div>
      </li>
    </ul>

    <ul id="layers" class="jquiSort">
      <li>
        <div class="liss">
          <h2>Skin</h2>

          <div class="nopadd">
            <button class="div2" id="importBtn" title="Paste from clipboard">
              <i class="fa-solid fa-paste"></i>
            </button>
            <button id="btnImImg" title="Import from image (20x18)">
              <i class="fa-solid fa-image"></i>
            </button>
            <input type="file" id="importImg" accept="image/png" />
            <button id="imprtFromTrss" title="Import from TRSS">
              <i class="fa-solid fa-arrow-right-to-bracket fa-rotate-90"></i>
            </button>
            <input type="file" id="svi" accept=".txt" />
            <button title="Import from skinviewer file" id="svibtn">
              <i class="fa-solid fa-file-import"></i>
            </button>
            <br />
            <button title="Copy to clipboard" class="div2" id="exportBtn">
              <i class="fa-solid fa-copy"></i>
            </button>
            <button title="Export as image" id="exportImg">
              <i class="fa-solid fa-file-image"></i>
            </button>
            <button title="Upload to TRSS" id="uploadDialogBtn">
              <i class="fa-solid fa-arrow-up-from-bracket"></i>
            </button>
            <button title="Export as skinviewer file" id="sve">
              <i class="fa-solid fa-file-export"></i>
            </button>
          </div>
        </div>
      </li>

      <li>
        <div class="liss">
          <h2><span id="bParams">Brush</span> params</h2>
          <div>
            <div id="brng">
              Range: <span id="bRangeVal">1</span> <br /><input
                type="range"
                id="brushRange"
                min="1"
                max="11"
                value="1"
              />
            </div>
            <div id="cpchoice" style="display: none">
              Apply for: <br /><br />
              <label
                ><input
                  type="radio"
                  id="rforclr1"
                  name="cpch"
                  value="forclr1"
                  checked
                />
                Color 1</label
              >
              <br />
              <br />
              <label
                ><input
                  type="radio"
                  id="rforclr2"
                  name="cpch"
                  value="forclr2"
                />
                Color 2</label
              >
            </div>
            <div id="lineCr" class="nopadd" style="display: none">
              X1:
              <input
                type="text"
                readonly
                id="linex1"
                class="forline"
                min="0"
                max="19"
              />
              Y1:
              <input
                type="text"
                id="liney1"
                readonly
                class="forline"
                min="0"
                max="17"
              />

              <br />
              <br />

              X2:
              <input
                type="text"
                id="linex2"
                readonly
                class="forline"
                min="0"
                max="19"
              />
              Y2:
              <input
                type="text"
                id="liney2"
                readonly
                class="forline"
                min="0"
                max="17"
              />

              <br />
              <br />

              <button id="crtline" title="Create line">Create line</button>
            </div>
            <div id="applCr" style="display: none">
              Pick color from:
              <br /><br />
              <label>
                <input type="radio" name="bdlgClr" value="yesclr1" checked />
                Color 1
              </label>
              <br /><br />
              <label>
                <input type="radio" name="bdlgClr" value="yesclr2" />
                Color 2
              </label>
            </div>
            <div id="moverctrl" class="nopadd" style="display: none">
              <button id="mov_rax" title="Moves up" class="for-mov">
                <i class="fa-solid fa-arrow-up"></i>
              </button>
              <br />
              <button id="mov_eax" title="Moves left" class="for-mov">
                <i class="fa-solid fa-arrow-left"></i>
              </button>
              <button
                id="mov_rndm"
                title="Moves in random position"
                class="for-mov"
              >
                <i class="fa-solid fa-question"></i>
              </button>
              <button id="mov_ebx" title="Moves right" class="for-mov">
                <i class="fa-solid fa-arrow-right"></i>
              </button>
              <br />
              <button id="mov_rbx" title="Moves down" class="for-mov">
                <i class="fa-solid fa-arrow-down"></i>
              </button>
            </div>
            <div id="nthngHere" style="display: none">There's nothing here</div>
          </div>
        </div>
      </li>
    </ul>

    <div id="flipDialog" title="Flip...">
      <button id="flipH" class="forflip" title="Flip (Horizontal)">
        horizontal
      </button>
      <button id="flipV" class="forflip" title="Flip (Vertical)">
        vertical
      </button>
      <button id="flipB" class="forflip" title="Flip (Both)">both</button>
    </div>

    <div id="modMix">
      Ratio: <span id="ratioMixTxt">0.5</span> <br />
      <input
        type="range"
        id="ratioMix"
        min="0"
        max="1"
        step="0.01"
        value="0.5"
      />
      <br />
      Result:
      <input type="color" id="resClr" />&nbsp; #<input
        type="text"
        id="resClrHelp"
        readonly
      />

      <br /><br />

      Apply to:

      <button id="frstClr">Color 1</button>
      <button id="scndClr">Color 2</button>
    </div>

    <div id="addSets">
      <div id="settabs">
        <ul>
          <li>
            <a draggable="false" href="#settab-1">More</a>
          </li>
          <li><a draggable="false" href="#settab-2">Accent</a></li>
          <li>
            <a draggable="false" href="#settab-3">Resets</a>
          </li>
          <li>
            <a draggable="false" href="#settab-4">TRSS token</a>
          </li>
          <li><a draggable="false" href="#settab-5">Key bindings</a></li>
          <li><a draggable="false" href="#settab-6">Guide</a></li>
          <li><a draggable="false" href="#settab-7">Contact me</a></li>
          <li><a draggable="false" href="#settab-8">Special thanks</a></li>
        </ul>
        <div id="settab-1">
          <br />
          <input type="checkbox" id="autocloser" checked />
          <label for="autocloser"
            >Automatically close dialog boxes after pressing "apply"</label
          >
          <br />
          <br />
          <label
            ><input type="checkbox" id="mus" title="Enable music (M)" /> Enable
            Music</label
          >
          <br />
          <br />
          Skin size: <br />
          <input type="range" id="paddingTbl" min="10" max="20" value="10" />
        </div>
        <div id="settab-2">
          <input type="color" id="acsntClr" value="#65abcf" />&nbsp; #<input
            type="text"
            id="acsntClrHelp"
            maxlength="6"
            value="65abcf"
          />
        </div>
        <div id="settab-3">
          <ul class="resetZone">
            <li>
              <button id="reset" class="danger reseter">Reset skin</button>
              <button id="noClr" class="danger">Reset color</button>
            </li>
            <li>
              <button id="resBdyClr" class="danger">Reset body color</button>
              <button id="resLgsClr" class="danger">Reset legs color</button>
            </li>
            <li>
              <button id="resAcsnt" class="danger">Default accent color</button>
            </li>
          </ul>
        </div>
        <div id="settab-4">
          <form>
            Login:
            <input
              type="text"
              id="trssLogin"
              autocomplete="off"
              required
            /><br /><br />
            Password:
            <input
              type="password"
              id="trssPassword"
              autocomplete="off"
              required
              class="trssSecret"
            />
            <br />
            <br />
            <button id="getToken">Get token</button>
          </form>
          <button id="showPsswrd">Show password</button>
          <br />
          <br />
          Token here: <br /><br />
          <span id="tokenHere"></span><br /><br />
          (click on text to copy)
        </div>
        <div id="settab-5">
          <ul>
            <li>X: Switch colors</li>
            <li>A or 9: Toggle grid</li>
            <li>S or 0: Toggle looper</li>
            <li>B or 1: Select "brush" tool</li>
            <li>E or 2: Select "ereaser" tool</li>
            <li>P or 3: Select "eyedropper" tool</li>
            <li>F or 4: Select "fill" tool</li>
            <li>L or 5: Select "line" tool</li>
            <li>Z or 6: Select "color applyer" tool</li>
            <li>M or 7: Select "mover" tool</li>
            <li>Shift + N: copy pixel&apos;s color</li>
            <li>J (When "line" tool active) create line</li>
          </ul>
        </div>
        <div id="settab-6">
          <a draggable="false" href="">Guide (with en subtitles) coming soon</a>
        </div>
        <div id="settab-7">
          Telegram:
          <a class="ableToCopy" href="https://t.me/dkorj">t.me/dkorj</a>
          <br /><br />
          Discord: <span class="ableToCopy">DKorj#7586</span> <br /><br />
          VK: <a class="ableToCopy" href="https://vk.me/dkorj">vk.me/dkorj</a>
        </div>

        <div id="settab-8">
          <a href="https://t.me/IamTagir" draggable="false">IamTagir:</a> For
          creating Team Run <br /><br />
          <a href="https://t.me/gstroin" draggable="false">Gstroin:</a> For
          assistance in integrating TRSS into TRASE (And for creating TRSS)
          <br /><br />
          <a href="https://t.me/tttttttpm" draggable="false">Tipim:</a> For help
          with filling And other for support <br /><br />
          <a href="https://stackoverflow.com" draggable="false"
            >stackoverflow.com:</a
          >
          for answers
        </div>
      </div>
    </div>

    <div id="topBar">
      <button id="addSetsBtn" title="Additional setting">
        <i class="fa-solid fa-gear"></i>
      </button>
      <label class="lblLol">
        <input
          type="checkbox"
          class="gridder"
          id="gridManager"
          title="Toggle grid (A or 8)"
          checked
        />
        Grid
      </label>

      <label class="lblLol">
        <input
          type="checkbox"
          id="disblL"
          checked
          title="Toggle looper (S or 9)"
        />
        Looper
      </label>

      <div id="xy" class="lblLol">
        X: <span id="x">0</span>Y: <span id="y">0</span
        ><span id="currClrDiv" title="Shift + N to copy">
          Pixel's color under cursor:
          <span id="currClr">None</span>
        </span>
        from looper: <span id="clrFromLooper">no</span>
      </div>
    </div>

    <div id="uploadToTrss" title="Upload to TRSS">
      <form>
        Skin name:
        <input
          type="text"
          required
          id="skinName"
          class="foruploadskin"
          autocomplete="off"
        />
        Token:
        <input
          required
          type="password"
          id="trsstoken"
          class="foruploadskin trssSecret"
          autocomplete="off"
        />
        <br />
        <br />
        Body and legs color on a skin
        <br />
        <br />
        <button id="uploadSkin">Upload skin</button>
        <br />
        <br />
      </form>
      <input type="checkbox" id="showToken" />
      <label for="showToken">Show token</label>
    </div>

    <div id="importFromTrss" title="Import from TRSS">
      <form>
        <input type="number" id="skinid" required />
        <br />
        <br />
        <button id="gettrssskin">Import skin</button>
      </form>

      <br />
      <br />
      Note: skin may have inconsistencies
    </div>

    <div id="jobWellDone" title="Published!">Skin successfully published</div>

    <div id="fatalErrDialog" title="ohh...">
      Oops! We have a fatal error (maybe after update). So, yes
      <br />
      <br />
      <button onclick="localStorage.clear(); location.reload()">
        Clear local strorage and reload page
      </button>
    </div>

    <div id="errorDialog" title="Error"></div>

    <canvas id="bgCanvas" width="100%" height="100%"></canvas>

    <div id="mobileSmall">
      <span class="sorrySmall"
        >Sorry, but this site is not available for mobile devices :(<br /><br />Because
        it's uncomfortable and doesn't look so pretty</span
      >
    </div>
  </body>
</html>
